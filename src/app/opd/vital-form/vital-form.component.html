<form nz-form nzLayout="vertical" [formGroup]="vitalsForm">
  <div nz-row *ngIf="patient">
    <nz-descriptions nzBordered [nzColumn]="{ xxl: 4, xl: 3, lg: 3, md: 3, sm: 2, xs: 1 }">
      <nz-descriptions-item nzTitle="Folder #">
        {{patient.folder_no}}
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Name">
        {{patient.firstname}} {{patient.middlename}} {{patient.surname}}
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Gender">
        {{patient.gender}}
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Age">
        {{patient.age}} year(s)
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Patient Status">
        {{patient.reg_status}}
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Funding Type">
        {{patient.funding_type_name}}
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Sponsor">
        {{patient.sponsorship_type_name}}
      </nz-descriptions-item>

    </nz-descriptions>
  </div>
  <div nz-row [nzGutter]="24" *ngIf="!patient">
    <div nz-col [nzSpan]="6">
      <nz-form-item>
        <nz-form-label nzRequired nzFor="title">Folder #</nz-form-label>
        <nz-form-control nzHasFeedback nzErrorTip="Enter valid folder number">
          <input type="text" nz-input placeholder="A0000001/20a" formControlName="folderNumber" />
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
  <nz-divider></nz-divider>

  <nz-card *ngIf="patient">
    <nz-table nzTemplateMode nzBordered nzSize="small">
      <thead>
        <tr>
          <th>Vital</th>
          <th>Value</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>Temp - C</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-number [nzPlaceHolder]="'Temperature'" nzSize="small" formControlName="temp" [nzStep]="1">
                </nz-input-number>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td>Pulse - BPM</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-number [nzPlaceHolder]="'Pulse'" nzSize="small" formControlName="pulse" [nzStep]="1">
                </nz-input-number>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td>B.P(Systolic/Diastolic) - mmHg</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-group>
                  <nz-input-number [nzPlaceHolder]="'Systolic'" nzSize="small" formControlName="systolic" [nzStep]="1">
                  </nz-input-number>
                  <nz-input-number [nzPlaceHolder]="'Diastolic'" nzSize="small" formControlName="diastolic"
                    [nzStep]="1">
                  </nz-input-number>
                </nz-input-group>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td>Respiratory - CPM</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-number [nzPlaceHolder]="'Respiratory'" nzSize="small" formControlName="respiratory"
                  [nzStep]="1">
                </nz-input-number>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td>Weight - kg</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-number [nzPlaceHolder]="'Weight'" nzSize="small" formControlName="weight" [nzStep]="1">
                </nz-input-number>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td>Height - cm</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-number [nzPlaceHolder]="'Height'" nzSize="small" formControlName="height" [nzStep]="1">
                </nz-input-number>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td>BMI - kg/m2</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-number [nzPlaceHolder]="'BMI'" nzSize="small" formControlName="bmi" [nzStep]="0.1">
                </nz-input-number>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td>SPO2 - %</td>
          <td>
            <nz-form-item>
              <nz-form-control nzErrorTip="Not valid">
                <nz-input-number [nzPlaceHolder]="'SPO'" nzSize="small" formControlName="spo" [nzStep]="1">
                </nz-input-number>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>

        <tr>
          <td [attr.colspan]="3">
            <nz-form-item>
              <nz-form-control>
                <textarea formControlName="comment" nz-input placeholder="Extra comments"></textarea>
              </nz-form-control>
            </nz-form-item>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </nz-card>

  <div nz-row>
    <div nz-col nzSpan="12" nzOffset="6" nzSm="24" *ngIf="!searchInitialized"><i nz-icon [nzType]="'info-circle'"
        class="m-r-5"></i> {{message}}
    </div>
  </div>

  <nz-skeleton [nzLoading]="isLoadingData && searchInitialized" [nzActive]="true">
  </nz-skeleton>
</form>

<div nz-row *ngIf="searchInitialized && !isLoadingData">
  <div nz-col nzOffset="7">
    <nz-button-group>
      <button nz-button nzType="danger" (click)="cancel()" [nzLoading]="submiting">Cancel</button>
      <button nz-button nzType="primary" (click)="done()" [nzLoading]="submiting">Done</button>
    </nz-button-group>
  </div>
</div>