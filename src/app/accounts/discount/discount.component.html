<nz-card>
  <form nz-form nzLayout="vertical" [formGroup]="requestForm">
    <div nz-row *ngIf="patient">
      <nz-descriptions nzSize="small" nzBordered [nzColumn]="{ xxl: 4, xl: 3, lg: 3, md: 3, sm: 2, xs: 1 }">
        <nz-descriptions-item nzTitle="Folder #">
          {{patient.folder_no}}
        </nz-descriptions-item>
        <nz-descriptions-item nzTitle="Name">
          {{patient.firstname}} {{patient.middlename}} {{patient.surname}}
        </nz-descriptions-item>
        <nz-descriptions-item nzTitle="Gender">
          {{patient.gender}}
        </nz-descriptions-item>
        <nz-descriptions-item nzTitle="Age">
          {{patient.age}} {{ageUnit}}
        </nz-descriptions-item>
        <nz-descriptions-item nzTitle="Patient Status">
          {{patient.reg_status}}
        </nz-descriptions-item>
        <nz-descriptions-item nzTitle="Funding Type">
          {{patient.funding_type_name}}
        </nz-descriptions-item>
        <nz-descriptions-item nzTitle="Sponsor">
          {{patient.sponsorship_type_name}}
        </nz-descriptions-item>

      </nz-descriptions>
    </div>
    <div nz-row [nzGutter]="24" *ngIf="!patient">
      <div nz-col [nzSpan]="6">
        <nz-form-item>
          <nz-form-label nzRequired nzFor="title">Folder #</nz-form-label>
          <nz-form-control nzHasFeedback nzErrorTip="Enter valid folder number">
            <input type="text" nz-input placeholder="A0000001/20a" formControlName="folderNumber" />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <nz-divider></nz-divider>
    <div nz-row [nzGutter]="24" *ngIf="searchInitialized && !isLoadingData">
      <div nz-col [nzSpan]="12">
        <div nz-row>
          <div nz-col [nzSpan]="12">
            <nz-select [formControl]="appliesToReasonControl" nzPlaceHolder="Applies to reason">
              <nz-option nzValue="SERVICES" nzLabel="Services"></nz-option>
              <nz-option nzValue="MEDICINE" nzLabel="Medicine"></nz-option>
              <nz-option nzValue="ADMISSION" nzLabel="Admission"></nz-option>
            </nz-select>
          </div>
        </div>
      </div>
    </div>

    <div nz-col [nzSpan]="12">
    </div>
    <div class="mt-5" style="text-align: center;" *ngIf="searchInitialized && !isLoadingData">
      <h2>Bill Details (Service and Medicine Payment Transaction)</h2>
    </div>

    <div nz-row [nzGutter]="24" *ngIf="searchInitialized && !isLoadingData">

    </div>
    <div nz-row>
      <div nz-col nzSpan="12" nzOffset="6" nzSm="24" *ngIf="!searchInitialized"><i nz-icon [nzType]="'info-circle'"
          class="m-r-5"></i> {{message}}
      </div>
    </div>
    <nz-skeleton [nzLoading]="isLoadingData && searchInitialized" [nzActive]="true">
    </nz-skeleton>
  </form>

  <nz-row nzType="flex" nzJustify="center" *ngIf="searchInitialized && !isLoadingData">
    <nz-col>
      <nz-button-group>
        <button nz-button nzType="danger" (click)="cancel()" [nzLoading]="requesting">Cancel</button>
        <button nz-button nzType="primary" (click)="done()" [nzLoading]="requesting">Done</button>
      </nz-button-group>
    </nz-col>
  </nz-row>
</nz-card>
